{"mappings":"IA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,KAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,OAI9BT,IACb,IACEK,aAAaQ,WAAWb,GACxB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,YCpB7C,MAEMK,EAAUC,SAASC,cAAc,mBAcvC,WACE,MAAMC,EAAYlB,EAAWmB,KAjBN,uBAkBnBD,GACFE,OAAOC,QAAQH,GAAWI,SAAQ,EAAEC,EAAMrB,MACxCa,EAAQS,SAASD,GAAQrB,KAjB/BuB,GACAV,EAAQW,iBAAiB,SAEzB,SAAqBC,GACnB,IAAIT,EAAYlB,EAAWmB,KAPJ,uBAQlBD,IACHA,EAAY,IAEd,MAAMK,KAAEA,EAAIrB,MAAEA,GAAUyB,EAAMC,OAC9BV,EAAUK,GAAQrB,EAClBF,EAAW6B,KAbY,sBAaWX,MAoBpCH,EAAQW,iBAAiB,UARJC,IACnBA,EAAMG,iBACN,MAAMC,MAAEA,EAAKrB,QAAEA,GAAYiB,EAAMK,cACjCvB,QAAQwB,IAAI,CAAEF,MAAOA,EAAM7B,MAAOQ,QAASA,EAAQR,QACnDyB,EAAMK,cAAcE,QACpBlC,EAAWmC,OA9BY","sources":["src/js/storage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import storageApp from './storage';\n\nconst CONTACT_FORM_KEY = 'feedback-form-state';\n\nconst formRef = document.querySelector('.feedback-form');\ninitialPage();\nformRef.addEventListener('input', handleInput);\n\nfunction handleInput(event) {\n  let savedData = storageApp.load(CONTACT_FORM_KEY);\n  if (!savedData) {\n    savedData = {};\n  }\n  const { name, value } = event.target;\n  savedData[name] = value;\n  storageApp.save(CONTACT_FORM_KEY, savedData);\n}\n\nfunction initialPage() {\n  const savedData = storageApp.load(CONTACT_FORM_KEY);\n  if (savedData) {\n    Object.entries(savedData).forEach(([name, value]) => {\n      formRef.elements[name] = value;\n    });\n  }\n}\n\nconst handleSubmit = event => {\n  event.preventDefault();\n  const { email, message } = event.currentTarget;\n  console.log({ email: email.value, message: message.value });\n  event.currentTarget.reset();\n  storageApp.remove(CONTACT_FORM_KEY);\n};\n\nformRef.addEventListener('submit', handleSubmit);\n"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$945622fd0f572e60$var$formRef","document","querySelector","savedData","load","Object","entries","forEach","name","elements","$945622fd0f572e60$var$initialPage","addEventListener","event","target","save","preventDefault","email","currentTarget","log","reset","remove"],"version":3,"file":"03-feedback.8a440e17.js.map"}